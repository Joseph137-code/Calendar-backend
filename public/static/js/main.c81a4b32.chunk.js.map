{"version":3,"sources":["hooks/useForm.js","helpers/fetch.js","reducers/authReducer.js","components/auth/LoginPage.js","helpers/calendarEsp.js","components/calendar/CalendarEvent.js","reducers/pruebaReducer.js","reducers/calendarReducer.js","components/calendar/CalendarModal.js","components/ui/Navbar.js","components/ui/AddNew.js","components/ui/DeleteNew.js","components/calendar/CalendarPage.js","router/PublicRoute.js","router/PrivateRoute.js","components/ui/Loading.js","router/AppRouter.js","CalendarApp.js","store/Storage.js","index.js"],"names":["useForm","initialState","useState","values","setValues","reset","handleInputChange","target","name","value","baseUrl","process","fetchSinToken","endpoint","data","method","url","fetch","headers","body","JSON","stringify","fetchConToken","token","localStorage","getItem","MySwal","withReactContent","Swal","startLogin","createAsyncThunk","a","rejectWithValue","email","lEmail","password","lPassword","response","json","status","setItem","Date","getTime","fire","icon","title","text","msg","console","log","startRegister","rName","rEmail","rPassword","startChecking","authSlice","createSlice","checking","loading","user","error","reducers","authLogin","state","action","authCheckingFinish","authLogout","removeItem","extraReducers","builder","addCase","pending","fulfilled","payload","rejected","actions","LoginPage","dispatch","useDispatch","rPassword1","formValRegis","handleInputChangeRegis","formValLogin","handleInputChangeLogin","className","onSubmit","e","preventDefault","type","placeholder","onChange","autoComplete","messages","allDay","previous","next","today","month","week","day","agenda","date","time","event","noEventsInRange","showMore","total","CalendarEvent","counterSlice","modalOpen","increment","decrement","incrementByAmount","modalOpening","modalClose","events","activeEvent","eventStartAddNew","getState","auth","uid","ok","id","evento","_id","eventStartLoading","eventos","eventStartUpdate","eventStartDelete","calendario","calendarSlice","eventSetActive","eventAddNew","eventClearActiveEvent","eventUpdated","map","eventDeleted","filter","eventLoaded","eventLogout","customStyles","content","top","left","right","bottom","marginRight","transform","Modal","setAppElement","now","moment","minutes","seconds","add","nowPlus1","clone","initEvent","notes","start","toDate","end","CalendarModal","modalIsOpen","useSelector","counter","dateStart","setDateStart","dateEnd","setDateEnd","titleValid","setTitleValid","formValues","setFormValues","useEffect","closeModal","isOpen","onAfterOpen","onRequestClose","style","closeTimeoutMS","contentLabel","overlayClassName","momentStart","momentEnd","isSameOrAfter","footer","trim","length","minDate","rows","Navbar","onClick","AddNewFab","DeleteEventFab","locale","localizer","momentLocalizer","CalendarPage","lastView","setLastView","startAccessor","endAccessor","onDoubleClickEvent","onSelectEvent","onView","onSelectSlot","selectable","view","eventPropGetter","isSelected","backgroundColor","borderRadius","display","color","components","PublicRoute","isAuthenticated","Component","component","rest","props","to","PrivateRoute","Loading","property","AppRouter","exact","path","CalendarApp","store","configureStore","reducer","counterReducer","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c81a4b32.chunk.js","sourcesContent":["import { useState } from 'react';\r\n\r\nexport const useForm = ( initialState = {} ) => {\r\n    \r\n    const [values, setValues] = useState(initialState);\r\n\r\n    const reset = () => {\r\n        setValues( initialState );\r\n    }\r\n\r\n    const handleInputChange = ({ target }) => {\r\n\r\n        setValues({\r\n            ...values,\r\n            [ target.name ]: target.value\r\n        });\r\n\r\n    }\r\n\r\n    return [ values, handleInputChange, reset ];\r\n}","const baseUrl = process.env.REACT_APP_API_URL;\r\n\r\nconst fetchSinToken = ( endpoint, data, method = 'GET' ) => {\r\n\r\n    const url = `${ baseUrl }/${ endpoint }`;\r\n\r\n    if ( method === 'GET' ) {\r\n        return fetch( url );\r\n    } else {\r\n        return fetch( url, {\r\n            method,\r\n            headers: {\r\n                'Content-type': 'application/json'\r\n            },\r\n            body: JSON.stringify( data )\r\n        });\r\n    }\r\n}\r\n\r\nconst fetchConToken = ( endpoint, data, method = 'GET' ) => {\r\n\r\n    const url = `${ baseUrl }/${ endpoint }`;\r\n    const token = localStorage.getItem('token') || '';\r\n\r\n    if ( method === 'GET' ) {\r\n        return fetch( url, {\r\n            method,\r\n            headers: {\r\n                'x-token': token\r\n            }\r\n        });\r\n    } else {\r\n        return fetch( url, {\r\n            method,\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'x-token': token\r\n            },\r\n            body: JSON.stringify( data )\r\n        });\r\n    }\r\n}\r\n\r\n\r\n\r\nexport {\r\n    fetchSinToken,\r\n    fetchConToken\r\n}","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\r\nimport { fetchSinToken, fetchConToken } from '../helpers/fetch';\r\nimport Swal from 'sweetalert2'\r\nimport withReactContent from 'sweetalert2-react-content'\r\n\r\nconst initialState = {\r\n  checking: true,\r\n  loading:false,\r\n  user:{},\r\n  error: null\r\n}\r\n\r\nconst MySwal = withReactContent(Swal)\r\n\r\n//const Login = createAction('auth/login')\r\n\r\nexport const startLogin = createAsyncThunk(\r\n  'auth/login',\r\n  async (values, { rejectWithValue}) => {\r\n    const {lEmail: email, lPassword: password} = values\r\n    try {\r\n      const response = await fetchSinToken( 'auth/login', { email, password }, 'POST' );\r\n      const body = await response.json();\r\n      \r\n      if (response.status === 201) {\r\n        localStorage.setItem('token', body.token );\r\n        localStorage.setItem('token-init-date', new Date().getTime() );\r\n        return body\r\n      } else {\r\n        MySwal.fire({\r\n          icon: 'error',\r\n          title: 'Error!',\r\n          text:body.msg ,\r\n        })\r\n        return rejectWithValue(body.msg);\r\n      }\r\n    } catch (error) {\r\n       console.log('Error', error);\r\n       rejectWithValue(error);\r\n    }\r\n  }\r\n)\r\n\r\n\r\nexport const startRegister = createAsyncThunk(\r\n  'auth/register',\r\n  async (values, { rejectWithValue}) => {\r\n    const {rName: name, rEmail: email, rPassword: password} = values\r\n    const response = await fetchSinToken( 'auth/register', { name, email, password }, 'POST' );\r\n    const body = await response.json();\r\n    \r\n    if (response.status === 201) {\r\n      localStorage.setItem('token', body.token );\r\n      localStorage.setItem('token-init-date', new Date().getTime() );\r\n\r\n      return body\r\n    } else {\r\n      MySwal.fire({\r\n        icon: 'error',\r\n        title: 'Error!',\r\n        text:body.msg ,\r\n      })\r\n      return rejectWithValue(body.msg);\r\n    }\r\n  }\r\n)\r\n\r\nexport const startChecking = createAsyncThunk(\r\n  'auth/ValidationToken',\r\n  async (values, { rejectWithValue}) => {\r\n\r\n    try {\r\n      const response = await fetchConToken( 'auth/renew');\r\n      const body = await response.json();\r\n\r\n      localStorage.setItem('token', body.token );\r\n      localStorage.setItem('token-init-date', new Date().getTime() );\r\n      return(body);\r\n    } catch (error) {\r\n      return rejectWithValue(error)\r\n    }\r\n  }\r\n)\r\n\r\nexport const eventStartUpdate = createAsyncThunk(\r\n  'auth/ValidationToken',\r\n  async (values, { rejectWithValue}) => {\r\n    const response = await fetchConToken( 'auth/renew');\r\n    const body = await response.json();\r\n\r\n  \r\n    if (response.status === 200) {\r\n      localStorage.setItem('token', body.token );\r\n      localStorage.setItem('token-init-date', new Date().getTime() );\r\n      return body\r\n    } else {\r\n      return rejectWithValue (body);\r\n   \r\n    }\r\n  }\r\n)\r\n\r\nexport const authSlice = createSlice({\r\n  name: 'autenticacion',\r\n  initialState,\r\n  reducers: {\r\n    authLogin: (state, action) => {\r\n      state.checking = false\r\n    },\r\n    authCheckingFinish: (state, action) => {\r\n      state.checking = false\r\n    },\r\n    authLogout: (state, action) => {\r\n      state.user = {};\r\n      localStorage.removeItem('token');\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(startLogin.pending, (state) => {\r\n          state.loading = 'true'\r\n        \r\n      })\r\n      .addCase(startLogin.fulfilled, (state, action) => {\r\n        state.loading = false\r\n        state.checking= false\r\n        state.user = action.payload  \r\n          \r\n      })\r\n      .addCase(startLogin.rejected, (state, action) => {\r\n        state.loading = false\r\n        state.error = action.payload\r\n      })\r\n      .addCase(startRegister.pending, (state) => {\r\n     \r\n          state.loading = 'true'\r\n        \r\n      })\r\n      .addCase(startRegister.fulfilled, (state, action) => {\r\n        state.loading = false\r\n        state.checking= false\r\n        state.user = action.payload  \r\n          \r\n      })\r\n      .addCase(startRegister.rejected, (state, action) => {\r\n        state.loading = false\r\n        state.error = action.payload\r\n      })\r\n      .addCase(startChecking.pending, (state) => {\r\n          state.loading = 'true'\r\n        \r\n      })\r\n      .addCase(startChecking.fulfilled, (state, action) => {\r\n        state.loading = false\r\n        state.checking= false\r\n        state.user = action.payload  \r\n          \r\n      })\r\n      .addCase(startChecking.rejected, (state, action) => {\r\n        state.error = action.payload\r\n        state.loading = false\r\n      })\r\n  },\r\n})\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const {authLogin,authCheckingFinish, authLogout } = authSlice.actions\r\n\r\nexport default authSlice.reducer","import React from 'react'\r\nimport {useForm} from '../../hooks/useForm'\r\nimport { useDispatch } from 'react-redux'\r\nimport {startLogin, startRegister} from '../../reducers/authReducer'\r\nimport Swal from 'sweetalert2'\r\nimport withReactContent from 'sweetalert2-react-content'\r\nimport './login.css';\r\n\r\nconst MySwal = withReactContent(Swal)\r\n\r\nconst LoginPage = () => {\r\n\r\n    const dispatch = useDispatch()\r\n  \r\n    const [ formValRegis, handleInputChangeRegis] = useForm({\r\n        rName:\"\",\r\n        rEmail:\"\",\r\n        rPassword:\"\",\r\n        rPassword1:\"\"\r\n    });\r\n\r\n    const [ formValLogin, handleInputChangeLogin] = useForm({\r\n        lEmail:\"\",\r\n        lPassword:\"\"\r\n    });\r\n\r\n    const {rName, rEmail, rPassword, rPassword1} = formValRegis;\r\n    const {lEmail, lPassword} = formValLogin;\r\n\r\n    const handleLogin = (e) => {\r\n        e.preventDefault();\r\n        dispatch(startLogin(formValLogin))\r\n    }\r\n\r\n    const handleRegister = (e) => {\r\n        e.preventDefault();\r\n\r\n        if ( rPassword !== rPassword1 ) {\r\n            return MySwal.fire({\r\n                icon: 'error',\r\n                title: 'Error!',\r\n                text:'Las contraseñas deben de ser iguales' ,\r\n              });\r\n        }\r\n        dispatch(startRegister(formValRegis))\r\n      \r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"container login-container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 login-form-1\">\r\n                    <h3>Ingreso</h3>\r\n                    <form onSubmit={handleLogin}>\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Correo\"\r\n                                name= \"lEmail\"\r\n                                value={lEmail}\r\n                                onChange={handleInputChangeLogin}\r\n                                autoComplete=\"off\"\r\n                            />\r\n                        </div>\r\n                  \r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"password\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Contraseña\"\r\n                                name= \"lPassword\"\r\n                                value={lPassword}\r\n                                onChange={handleInputChangeLogin}\r\n                                autoComplete=\"off\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"submit\"\r\n                                className=\"btnSubmit\"\r\n                                value=\"Login\"\r\n                            />\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n\r\n                <div className=\"col-md-6 login-form-2\">\r\n                    <h3>Registro</h3>\r\n                    <form onSubmit={handleRegister}>\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Nombre\"\r\n                                name= \"rName\"\r\n                                value={rName}\r\n                                onChange={handleInputChangeRegis}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"email\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Correo\"\r\n                                name= \"rEmail\"\r\n                                value={rEmail}\r\n                                onChange={handleInputChangeRegis}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"password\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Contraseña\"\r\n                                name= \"rPassword\"\r\n                                value={rPassword}\r\n                                onChange={handleInputChangeRegis}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"password\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Repita la contraseña\"\r\n                                name= \"rPassword1\"\r\n                                value={rPassword1}\r\n                                onChange={handleInputChangeRegis}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"submit\"\r\n                                className=\"btnSubmit\"\r\n                                value=\"Crear cuenta\" />\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginPage\r\n","export const messages = {\r\n    allDay: 'Todo el día',\r\n    previous: '<',\r\n    next: '>',\r\n    today: 'Hoy',\r\n    month: 'Mes',\r\n    week: 'Semana',\r\n    day: 'Día',\r\n    agenda: 'Agenda',\r\n    date: 'Fecha',\r\n    time: 'Hora',\r\n    event: 'Evento',\r\n    noEventsInRange: 'No hay eventos en este rango',\r\n    showMore: total => `+ Ver más (${total})`\r\n};","import React from 'react'\r\n\r\nconst CalendarEvent = ({event}) => {\r\n    return (\r\n        <div>\r\n            <strong> {event.title } </strong>\r\n            <span>-{ event.user.name } </span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CalendarEvent\r\n","import { createSlice } from '@reduxjs/toolkit'\r\n\r\nconst initialState = {\r\n  value: 0,\r\n  modalOpen: false,\r\n}\r\n\r\nexport const counterSlice = createSlice({\r\n  name: 'counter',\r\n  initialState,\r\n  reducers: {\r\n    increment: (state) => {\r\n      // Redux Toolkit allows us to write \"mutating\" logic in reducers. It\r\n      // doesn't actually mutate the state because it uses the Immer library,\r\n      // which detects changes to a \"draft state\" and produces a brand new\r\n      // immutable state based off those changes\r\n      state.value += 1\r\n    },\r\n    decrement: (state) => {\r\n      state.value -= 1\r\n    },\r\n    incrementByAmount: (state, action) => {\r\n      state.value += action.payload\r\n    },\r\n    modalOpening: (state) => {\r\n      state.modalOpen = true\r\n    },\r\n    modalClose: (state) => {\r\n      state.modalOpen = false\r\n    },\r\n\r\n  },\r\n})\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { increment, decrement, incrementByAmount,modalOpening, modalClose  } = counterSlice.actions\r\n\r\nexport default counterSlice.reducer","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\r\nimport { fetchConToken } from '../helpers/fetch';\r\nimport Swal from 'sweetalert2'\r\nimport withReactContent from 'sweetalert2-react-content'\r\n\r\n\r\nconst MySwal = withReactContent(Swal)\r\nconst initialState = {\r\n    events: [],\r\n    activeEvent: null,\r\n    loading:false,\r\n    error: null\r\n}\r\n\r\nexport const eventStartAddNew = createAsyncThunk(\r\n    'event/new',\r\n    async (event, {getState, rejectWithValue},  ) => {\r\n        const { uid, name } = getState().auth.user;\r\n\r\n        try {\r\n            const response = await fetchConToken( 'events/', event,'POST' );\r\n            const body = await response.json();\r\n    \r\n            if ( body.ok ) {\r\n                event.id = body.evento.id;\r\n                event.user = {\r\n                    _id: uid,\r\n                    name: name\r\n                }\r\n\r\n                return( event );\r\n            }\r\n        } catch (error) {\r\n            return rejectWithValue(error)\r\n        }\r\n    \r\n    }\r\n)\r\n\r\nexport const eventStartLoading = createAsyncThunk(\r\n    'event/get',\r\n    async (event, {rejectWithValue},  ) => {\r\n        try {\r\n            const response = await fetchConToken( 'events');\r\n            const body = await response.json();\r\n\r\n            if (response.status === 200) {\r\n                return (body.eventos)\r\n            } else {\r\n                return rejectWithValue (body);\r\n            }\r\n        } catch (error) {\r\n            console.log('Error', error.response.data);\r\n            rejectWithValue(error.response.data);\r\n        }\r\n    }\r\n)\r\n\r\nexport const eventStartUpdate = createAsyncThunk(\r\n    'event/update',\r\n    async (event, {rejectWithValue},  ) => {\r\n       const response = await fetchConToken(`events/${ event.id }`, event, 'PUT');\r\n        const body = await response.json();\r\n        \r\n\r\n       if (response.status === 200) {\r\n            return (event)\r\n          } else {\r\n            MySwal.fire({\r\n                icon: 'error',\r\n                title: 'Error!',\r\n                text:body.msg ,\r\n            })\r\n            return rejectWithValue (body);\r\n         \r\n        }\r\n    }\r\n)\r\n\r\nexport const eventStartDelete = createAsyncThunk(\r\n    'event/Delete',\r\n    async (event, {getState, rejectWithValue},  ) => {\r\n        const { id } = getState().calendario.activeEvent;\r\n       const response = await fetchConToken(`events/${id }`,{}, 'DELETE' );\r\n        const body = await response.json();\r\n      if (response.status === 200) {\r\n            return (body)\r\n          } else {\r\n            MySwal.fire({\r\n                icon: 'error',\r\n                title: 'Error!',\r\n                text:body.msg ,\r\n            })\r\n            return rejectWithValue (body);\r\n         \r\n        }\r\n    }\r\n)\r\n\r\nexport const calendarSlice = createSlice({\r\n  name: 'calendario',\r\n  initialState,\r\n  reducers: {\r\n    eventSetActive: (state, action) => {\r\n        state.activeEvent = action.payload\r\n    },\r\n    eventAddNew: (state, action) => {\r\n        state.events = [ \r\n            ...state.events,\r\n            action.payload]\r\n    },\r\n    eventClearActiveEvent: (state) => {\r\n        state.activeEvent = null\r\n    },\r\n    eventUpdated: (state, action) => {\r\n        state.events = state.events.map(\r\n            e => ( e.id === action.payload.id ) ? action.payload : e\r\n        )\r\n    },\r\n    eventDeleted: (state) => {\r\n        state.events = state.events.filter(\r\n            e => ( e.id !== state.activeEvent.id )\r\n        )\r\n        state.activeEvent = null\r\n    },\r\n    eventLoaded: (state, action) => {\r\n        state.events = [ action.payload]\r\n    },\r\n    eventLogout: () => {\r\n        return {\r\n            ...initialState\r\n        }\r\n    },\r\n\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n    .addCase(eventStartLoading.pending, (state, action) => {\r\n        state.loading = true\r\n    })\r\n    .addCase(eventStartLoading.fulfilled, (state, action) => {\r\n        state.events = action.payload\r\n    })\r\n    .addCase(eventStartLoading.rejected, (state, action) => {\r\n        state.loading = false\r\n        state.error = action.payload\r\n    })\r\n    .addCase(eventStartUpdate.pending, (state, action) => {\r\n        state.loading = true\r\n    })\r\n    .addCase(eventStartUpdate.fulfilled, (state, action) => {\r\n        state.events = state.events.map(\r\n            e => ( e.id === action.payload.id ) ? action.payload : e\r\n        )\r\n    })\r\n    .addCase(eventStartUpdate.rejected, (state, action) => {\r\n        state.loading = false\r\n        state.error = action.payload\r\n    })\r\n    .addCase(eventStartAddNew.pending, (state, action) => {\r\n        state.loading = true\r\n    })\r\n    .addCase(eventStartAddNew.fulfilled, (state, action) => {\r\n        state.loading = false\r\n        state.events = [...state.events, action.payload]\r\n    })\r\n    .addCase(eventStartAddNew.rejected, (state, action) => {\r\n        state.loading = false\r\n        state.error = action.payload\r\n    })\r\n    .addCase(eventStartDelete.pending, (state, action) => {\r\n        state.loading = true\r\n    })\r\n    .addCase(eventStartDelete.fulfilled, (state, action) => {\r\n        state.loading = false\r\n        state.events = state.events.filter(\r\n            e => ( e.id !== state.activeEvent.id )\r\n        )\r\n        state.activeEvent = null\r\n    })\r\n    .addCase(eventStartDelete.rejected, (state, action) => {\r\n        state.loading = false\r\n        state.error = action.payload\r\n    })\r\n      \r\n  },\r\n})\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const {eventSetActive,eventAddNew, eventClearActiveEvent, eventUpdated,\r\n    eventDeleted ,eventLoaded, eventLogout\r\n} = calendarSlice.actions\r\n\r\nexport default calendarSlice.reducer","import React, {useState, useEffect}  from 'react'\r\nimport Modal              from 'react-modal';\r\nimport DateTimePicker     from 'react-datetime-picker';\r\nimport moment from 'moment';\r\nimport Swal from 'sweetalert2'\r\nimport withReactContent from 'sweetalert2-react-content'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { modalClose } from '../../reducers/pruebaReducer'\r\nimport { eventClearActiveEvent, eventStartAddNew, eventStartUpdate  } from '../../reducers/calendarReducer';\r\n\r\nconst MySwal = withReactContent(Swal)\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: '50%',\r\n    left: '50%',\r\n    right: 'auto',\r\n    bottom: 'auto',\r\n    marginRight: '-50%',\r\n    transform: 'translate(-50%, -50%)',\r\n  },\r\n};\r\n\r\nModal.setAppElement('#root');\r\n\r\nconst now = moment().minutes(0).seconds(0).add(1,'hours'); // 3:00:00\r\nconst nowPlus1 = now.clone().add(1, 'hours');\r\n\r\nconst initEvent = {\r\n  title:'',\r\n  notes:'',\r\n  start: now.toDate(),\r\n  end: nowPlus1.toDate()\r\n}\r\n\r\nconst CalendarModal = () => {\r\n  \r\n  const modalIsOpen = useSelector((state) => state.counter.modalOpen)\r\n  const {activeEvent} = useSelector((state) => state.calendario)\r\n \r\n  const dispatch = useDispatch()\r\n  //const [modalIsOpen, setIsOpen] = useState(false);\r\n\r\n  \r\n  const [ dateStart, setDateStart ] = useState( now.toDate() );\r\n  const [ dateEnd, setDateEnd ] = useState( nowPlus1.toDate() );\r\n  const [ titleValid, setTitleValid ] = useState(true);\r\n  const [formValues, setFormValues] = useState(initEvent);\r\n\r\n  const {title, notes, start, end} = formValues;\r\n\r\n  useEffect(() => {\r\n    if ( activeEvent ) {\r\n        setFormValues( activeEvent );\r\n    } else {\r\n        setFormValues( initEvent );\r\n    }\r\n  }, [activeEvent, setFormValues])\r\n\r\n\r\n  const handleInputChange = ({ target }) => {\r\n    setFormValues({\r\n        ...formValues,\r\n        [target.name]: target.value\r\n    });\r\n  }\r\n\r\n\r\n  function afterOpenModal() {\r\n    // references are now sync'd and can be accessed.\r\n    //subtitle.style.color = '#f00';\r\n  }\r\n\r\n  function closeModal() {\r\n    dispatch(modalClose())\r\n    dispatch(eventClearActiveEvent())\r\n    setFormValues(initEvent)\r\n\r\n  }\r\n\r\n  const handleStartDateChange = ( e ) => {\r\n    setDateStart( e );\r\n    setFormValues({\r\n      ...formValues,\r\n      start: e\r\n    })\r\n  }\r\n\r\n  const handleEndDateChange = ( e ) => {\r\n    setDateEnd( e );\r\n    setFormValues({\r\n        ...formValues,\r\n        end: e\r\n    })\r\n  }\r\n\r\n  const handleSubmitForm = (e) => {\r\n    e.preventDefault();\r\n\r\n    const momentStart = moment( start );\r\n    const momentEnd = moment( end );\r\n\r\n    if ( momentStart.isSameOrAfter( momentEnd ) ) {\r\n      return MySwal.fire({\r\n        icon: 'error',\r\n        title: 'Oops...',\r\n        text: 'Error!',\r\n        footer: 'La fecha fin debe de ser mayor a la fecha de inicio'\r\n      })\r\n    }\r\n\r\n    if ( title.trim().length < 2 ) {\r\n      return setTitleValid(false);\r\n    }\r\n    \r\n    if ( activeEvent ) {\r\n      dispatch( eventStartUpdate( formValues ) )\r\n    } else {\r\n      dispatch(eventStartAddNew(formValues))\r\n    }\r\n\r\n\r\n      \r\n\r\n      setTitleValid(true)\r\n      closeModal()\r\n\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      \r\n      <Modal\r\n        isOpen={modalIsOpen}\r\n        onAfterOpen={afterOpenModal}\r\n        onRequestClose={closeModal}\r\n        style={customStyles}\r\n        closeTimeoutMS={200}\r\n        contentLabel=\"Example Modal\"\r\n        className=\"modal\"\r\n        overlayClassName=\"modal-fondo\"\r\n      >\r\n        <h1>{( activeEvent ) ?'Edita el Evento': 'Nuevo Evento' } </h1>\r\n        <hr />\r\n        <form \r\n          onSubmit={handleSubmitForm}\r\n          className=\"container\"\r\n        >\r\n\r\n          <div className=\"form-group\">\r\n            <label>Fecha y hora inicio</label>\r\n            <DateTimePicker\r\n              onChange={handleStartDateChange}\r\n              value={dateStart}\r\n              className=\"form-control\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label>Fecha y hora fin</label>\r\n            <DateTimePicker\r\n              onChange={handleEndDateChange}\r\n              value={dateEnd}\r\n              minDate={dateStart}\r\n              className=\"form-control\"\r\n            />\r\n          </div>\r\n\r\n          <hr />\r\n          <div className=\"form-group\">\r\n            <label>Titulo y notas</label>\r\n            <input\r\n              type=\"text\"\r\n              className={ `form-control ${ !titleValid && 'is-invalid' } `}\r\n              placeholder=\"Título del evento\"\r\n              name=\"title\"\r\n              value={title}\r\n              onChange={ handleInputChange }\r\n              autoComplete=\"off\"\r\n            />\r\n            <small id=\"emailHelp\" className=\"form-text text-muted\">Una descripción corta</small>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <textarea\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"Notas\"\r\n              rows=\"5\"\r\n              name=\"notes\"\r\n              value={notes}\r\n              onChange={ handleInputChange }\r\n            ></textarea>\r\n            <small id=\"emailHelp\" className=\"form-text text-muted\">Información adicional</small>\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn btn-outline-primary btn-block\"\r\n          >\r\n            <i className=\"far fa-save\"></i>\r\n            <span> Guardar</span>\r\n          </button>\r\n        </form>\r\n      </Modal>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CalendarModal\r\n","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { authLogout } from '../../reducers/authReducer'\r\nimport { eventLogout } from '../../reducers/calendarReducer'\r\n\r\n\r\nconst Navbar = () => {\r\n    const dispatch = useDispatch()\r\n    const {user} = useSelector( state => state.auth);\r\n    const {name} = user\r\n\r\n    const handleLogOut = () => {\r\n        dispatch(authLogout());\r\n        dispatch(eventLogout())\r\n    };\r\n\r\n\r\n    return (\r\n        <div className=\"navbar navbar-dark bg-secondary mb-4\">\r\n            <span className=\"navbar-brand\">\r\n               <h3>{name}</h3>\r\n            </span>\r\n        \r\n            <button \r\n                className=\"btn btn-outline-danger\"\r\n                onClick={handleLogOut}\r\n            >\r\n                <i className=\"fas fa-sign-out-alt\"></i>\r\n                <span> Salir</span>\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Navbar\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { modalOpening} from '../../reducers/pruebaReducer'\r\n\r\n\r\nexport const AddNewFab = () => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const handleClickNew = () => {\r\n        dispatch( modalOpening() );\r\n        //dispatch( uiOpenModal() );\r\n    }\r\n\r\n\r\n    return (\r\n        <button\r\n            className=\"btn btn-primary fab\"\r\n            onClick={ handleClickNew }\r\n        >\r\n            <i className=\"fas fa-plus\"></i>\r\n        </button>\r\n    )\r\n}","import React from 'react';\r\nimport { useDispatch } from 'react-redux'\r\nimport { eventStartDelete } from '../../reducers/calendarReducer';\r\n\r\nexport const DeleteEventFab = () => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const handleDelete = () => {\r\n        dispatch( eventStartDelete() );\r\n    }\r\n\r\n    return (\r\n        <button\r\n            className=\"btn btn-danger fab-danger\"\r\n            onClick={ handleDelete }\r\n        >\r\n            <i className=\"fas fa-trash\"></i>\r\n            <span> Borrar evento </span>\r\n        </button>\r\n    )\r\n}","import React, {useState, useEffect}   from 'react'\r\nimport { Calendar, momentLocalizer }  from 'react-big-calendar'\r\nimport { messages }                   from '../../helpers/calendarEsp';\r\nimport CalendarEvent                  from './CalendarEvent';\r\nimport CalendarModal                  from './CalendarModal';\r\nimport moment                         from 'moment'\r\nimport Navbar                         from '../ui/Navbar'\r\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\r\nimport 'moment/locale/es';\r\n\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { modalOpening} from '../../reducers/pruebaReducer'\r\n\r\nimport { eventSetActive, eventClearActiveEvent, eventStartLoading} from '../../reducers/calendarReducer'\r\nimport { AddNewFab } from '../ui/AddNew';\r\nimport { DeleteEventFab } from '../ui/DeleteNew';\r\n\r\n\r\nmoment.locale('es');\r\n\r\nconst localizer = momentLocalizer(moment)\r\n\r\nconst CalendarPage = () => {\r\n\r\n  const dispatch = useDispatch()\r\n  const eventos = useSelector((state) => state.calendario.events)\r\n  const {activeEvent} = useSelector((state) => state.calendario)\r\n  const {uid} = useSelector((state) => state.auth.user)\r\n\r\n  const [lastView, setLastView] = useState( localStorage.getItem('lastView') || 'month' );\r\n\r\n  useEffect(() => {\r\n        \r\n    dispatch( eventStartLoading() );\r\n\r\n  }, [ dispatch ])\r\n\r\n  const onDoubleClick = (e) => {\r\n    dispatch( modalOpening() );\r\n  }\r\n\r\n  const onSelectEvent = (e) => {\r\n    dispatch( eventSetActive(e))\r\n  }\r\n\r\n  const onViewChange = (e) => {\r\n    setLastView(e);\r\n    localStorage.setItem('lastView', e);\r\n  }\r\n\r\n  const onSelectSlot = (e) => {\r\n    dispatch( eventClearActiveEvent() );\r\n  }\r\n\r\n\r\n\r\n  const eventStyleGetter = ( event, start, end, isSelected ) => {\r\n    const style = {\r\n      backgroundColor:( uid === event.user._id ) ? '#e61c5f': '#367CF7',\r\n      borderRadius: '0px',\r\n      display: 'block',\r\n      color: '#333132'\r\n    }\r\n    return {\r\n        style\r\n    }\r\n  };\r\n\r\n\r\n    return (\r\n      <div className=\"calendar-screen\">\r\n        <Navbar/>\r\n          <Calendar\r\n            localizer={localizer}\r\n            events={eventos}\r\n            startAccessor=\"start\"\r\n            endAccessor=\"end\"\r\n            onDoubleClickEvent={ onDoubleClick }\r\n            onSelectEvent={ onSelectEvent }\r\n            onView={ onViewChange }\r\n            onSelectSlot={ onSelectSlot }\r\n            selectable={ true }\r\n            messages={messages}\r\n            view={ lastView }\r\n            eventPropGetter={ eventStyleGetter }\r\n            components={{\r\n              event: CalendarEvent\r\n            }}\r\n            \r\n          />\r\n\r\n          <AddNewFab />\r\n          \r\n          {\r\n            (activeEvent) && <DeleteEventFab/>\r\n          }\r\n          <CalendarModal/>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default CalendarPage\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\n\r\nexport const PublicRoute = ({\r\n    isAuthenticated,\r\n    component: Component,\r\n    ...rest\r\n}) => {\r\n\r\n    return (\r\n        <Route { ...rest }\r\n            component={ (props) => (\r\n                ( isAuthenticated )\r\n                    ? ( <Redirect to=\"/\" /> )\r\n                    : ( <Component { ...props } /> )\r\n            )}\r\n        \r\n        />\r\n    )\r\n}\r\n\r\nPublicRoute.propTypes = {\r\n    isAuthenticated: PropTypes.bool.isRequired,\r\n    component: PropTypes.func.isRequired\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\n\r\nexport const PrivateRoute = ({\r\n    isAuthenticated,\r\n    component: Component,\r\n    ...rest\r\n}) => {\r\n\r\n    return (\r\n        <Route { ...rest }\r\n            component={ (props) => (\r\n                ( isAuthenticated )\r\n                    ? ( <Component { ...props } /> )\r\n                    : ( <Redirect to=\"/Login\" /> )\r\n            )}\r\n        \r\n        />\r\n    )\r\n}\r\n\r\nPrivateRoute.propTypes = {\r\n    isAuthenticated: PropTypes.bool.isRequired,\r\n    component: PropTypes.func.isRequired\r\n}","import React from 'react'\r\n\r\nconst Loading = () => {\r\n    return (\r\n        <section>\r\n            <div className=\"loader\">\r\n                <span className={{property: \"--i:0;\"}}></span>\r\n                <span  className={{property: \"--i:1;\"}}></span>\r\n                <span  className={{property: \"--i:2;\"}}></span>\r\n                <span  className={{property: \"--i:3;\"}}></span>\r\n                <span  className={{property: \"--i:4;\"}}></span>\r\n                <span  className={{property: \"--i:5;\"}}></span>\r\n                <span  className={{property: \"--i:6;\"}}></span>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Loading\r\n","import React, {useEffect} from 'react'\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Redirect\r\n} from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport LoginPage from '../components/auth/LoginPage';\r\nimport CalendarPage from '../components/calendar/CalendarPage';\r\nimport { startChecking } from '../reducers/authReducer';\r\nimport { PublicRoute } from './PublicRoute';\r\nimport { PrivateRoute } from './PrivateRoute';\r\nimport Loading from '../components/ui/Loading';\r\n\r\n\r\nconst AppRouter = () => {\r\n    const dispatch = useDispatch();\r\n    const {user, loading} = useSelector( state => state.auth);\r\n    const {uid} = user\r\n\r\n    useEffect(() => {\r\n        \r\n        dispatch( startChecking() );\r\n\r\n    }, [dispatch])\r\n\r\n    if (loading){\r\n        return (\r\n            <Loading/>\r\n        )\r\n    }\r\n    \r\n\r\n    return (\r\n        <Router>\r\n            <div>\r\n                <Switch>\r\n                    <PublicRoute\r\n                        exact path=\"/Login\"\r\n                        component={LoginPage}\r\n                        isAuthenticated={!!uid}\r\n                    />\r\n\r\n                    <PrivateRoute\r\n                        exact path=\"/\"\r\n                        component={CalendarPage}\r\n                        isAuthenticated={!!uid}\r\n                    />  \r\n                    <Redirect to=\"/\" />\r\n                </Switch>\r\n            </div>\r\n        </Router>\r\n    )\r\n}\r\n\r\nexport default AppRouter\r\n","import React from 'react'\nimport AppRouter from './router/AppRouter'\n\nconst CalendarApp = () => {\n  return (\n    <div>\n        <AppRouter/>\n    </div>\n  )\n}\n\nexport default CalendarApp\n\n","import { configureStore } from '@reduxjs/toolkit'\r\nimport counterReducer     from '../reducers/pruebaReducer'\r\nimport calendarSlice      from '../reducers/calendarReducer'\r\nimport authSlice          from '../reducers/authReducer'\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    counter: counterReducer,\r\n    calendario: calendarSlice,\r\n    auth: authSlice\r\n  },\r\n})\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles.css';\nimport CalendarApp from './CalendarApp';\n\nimport { store } from './store/Storage'\nimport { Provider } from 'react-redux'\n\nReactDOM.render(\n  <Provider store={store}>\n    <CalendarApp/>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}